<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/layouts/designLayout.xhtml">
    <ui:define name="organizationContent">
        <h:panelGrid id="editPage" columns="1" styleClass="textLeft">
            <f:facet name="header">
                <p:commandButton action="#{pageDesignBean.savePage}" value="#{msg['system.button.save.label']}"
                                 update="editPage" styleClass="k-primary"/>
                <p:button value="#{msg['system.button.cancel.label']}" outcome="/views/design/pages"
                          style="margin-left: 5px"/>

            </f:facet>
            <h:panelGrid columns="1" styleClass="textLeft">
                <h:panelGrid columns="3" styleClass="textLeft">
                    <h:outputLabel for="pageName" value="#{msg['design.page.name.label']}"/>
                    <p:inputText id="pageName" value="#{pageDesignBean.page.name}" size="100"
                                 required="true"
                                 requiredMessage="#{msg['leave.store.datatable.column.input.require.msg']}"
                                 styleClass="textLeft">
                    </p:inputText>
                    <p:message for="pageName" display="icon"/>

                    <h:outputLabel for="pageType" value="#{msg['design.page.type.label']}"/>
                    <p:selectOneMenu id="pageType" value="#{pageDesignBean.page.pageType}" disabled="#{!pageDesignBean.page.isNew()}"
                                     converter="#{pageTypeConverter}"
                                     style="width:200px" >
                        <f:selectItem itemLabel="#{msg['cms.empty.selection.label']}"
                                      itemValue=""/>
                        <f:selectItems value="#{pageDesignBean.pageTypes}" var="type" itemLabel="#{type.name()}"
                                       itemValue="#{type.name()}"/>
                    </p:selectOneMenu>
                    <p:message for="pageType" display="icon"/>
                </h:panelGrid>
            </h:panelGrid>
            <h:panelGrid columns="2" styleClass="textLeft">
                <p:inputTextarea rows="25" cols="150" value="#{pageDesignBean.page.page}" autoResize="false"/>

                <p:dataTable id="frontEndResources" var="frontEndResource" value="#{imageResourceBean.dataModel}"
                             widgetVar="frontEndResources"
                             styleClass="textLeft" selection="#{imageResourceBean.selectedResources}"
                             emptyMessage="#{msg['system.common.empty']}"
                             rows="30" paginator="true" paginatorPosition="bottom"
                             paginatorTemplate="{PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="30">

                    <f:facet name="header">
                        <h:outputText value="#{msg['cms.image.file.name']}"/>
                    </f:facet>

                    <p:ajax event="page" global="false"/>
                    <p:ajax event="filter" global="false"/>

                    <p:column styleClass="textLeft" filterBy="#{frontEndResource.name}">
                        <a href="/fileservice/#{frontEndResource.id}/#{frontEndResource.name}">
                            <h:outputText value="#{frontEndResource.name}"/>
                        </a>
                    </p:column>
                </p:dataTable>
            </h:panelGrid>
        </h:panelGrid>


    </ui:define>
</ui:composition>
